'use strict';var _createClass=function(){function a(b,c){for(var e,d=0;d<c.length;d++)e=c[d],e.enumerable=e.enumerable||!1,e.configurable=!0,'value'in e&&(e.writable=!0),Object.defineProperty(b,e.key,e)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}var Aug=function(){function a(){_classCallCheck(this,a),this.augList=[]}return _createClass(a,[{key:'registerComponent',value:function registerComponent(_ref){var e=_ref.el,f=_ref.opts,g=new Augject({el:e,opts:f});this.augList.push(g)}},{key:'registerComponents',value:function registerComponents(){for(var h=this,f=arguments.length,e=Array(f),g=0;g<f;g++)e[g]=arguments[g];e.forEach(function(j){h.registerComponent(j)})}},{key:'setAug',value:function setAug(_ref2){var e=_ref2.el,f=_ref2.opts,_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var j,g,h=this.augList[Symbol.iterator]();!(_iteratorNormalCompletion=(j=h.next()).done);_iteratorNormalCompletion=!0)g=j.value,g.augName==e&&g.setOpts({el:e,opts:f})}catch(k){_didIteratorError=!0,_iteratorError=k}finally{try{!_iteratorNormalCompletion&&h.return&&h.return()}finally{if(_didIteratorError)throw _iteratorError}}}},{key:'component',value:function component(e){var _iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{for(var h,f,g=this.augList[Symbol.iterator]();!(_iteratorNormalCompletion2=(h=g.next()).done);_iteratorNormalCompletion2=!0)if(f=h.value,f.augName==e)return f}catch(j){_didIteratorError2=!0,_iteratorError2=j}finally{try{!_iteratorNormalCompletion2&&g.return&&g.return()}finally{if(_didIteratorError2)throw _iteratorError2}}}},{key:'componentList',get:function get(){return this.augList}}]),a}(),Augject=function(){function Augject(){var _ref3=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},a=_ref3.el,b=_ref3.opts;_classCallCheck(this,Augject),this.augName=a,this.augs=this.findAugEl({el:a}),b&&this.setOpts({opts:b})}return _createClass(Augject,[{key:'setOpts',value:function setOpts(_ref4){var a=_ref4.opts,c=this.findTemplate({opts:a}),_iteratorNormalCompletion3=!0,_didIteratorError3=!1,_iteratorError3=void 0;try{for(var e,d=this.augs[Symbol.iterator]();!(_iteratorNormalCompletion3=(e=d.next()).done);_iteratorNormalCompletion3=!0){var b=e.value,f=void 0;f=b.shadowRoot?b.shadowRoot:b.createShadowRoot({mode:'open'}),f.innerHTML=a.preserve?c.innerHTML:this.parseHandlebars(c,a.data)}}catch(g){_didIteratorError3=!0,_iteratorError3=g}finally{try{!_iteratorNormalCompletion3&&d.return&&d.return()}finally{if(_didIteratorError3)throw _iteratorError3}}}},{key:'findAugEl',value:function findAugEl(){var _ref5=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},a=_ref5.el,b=this.select({el:a});return b?b:'err: No element found with ID '+a}},{key:'findTemplate',value:function findTemplate(){var _ref6=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},a=_ref6.opts,b=a.template.id,c=this.select({opts:a});return c?c:'err: No template with ID '+b+' found.'}},{key:'select',value:function select(){var _ref7=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},a=_ref7.el,b=_ref7.opts;return a?document.querySelectorAll(a):b?this.importSelectTemplate({opts:b}):void 0}},{key:'importSelectTemplate',value:function importSelectTemplate(){var _ref8=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},a=_ref8.opts,_opts$template=a.template,b=_opts$template.id,c=_opts$template.src,d=document.querySelector('link[rel=import][name='+c+']'),e=d.import.querySelector(b);return e?e:'err: No template with ID '+a.template+' found.'}},{key:'parseHandlebars',value:function parseHandlebars(template,data){var tem=template.innerHTML,preserve=!1;if(data&&data.hasOwnProperty('preserve')&&!0==data.preserve&&(preserve=!0),!preserve)for(;tem.includes('{{')&&tem.includes('}}');){var begin=tem.indexOf('{{'),end=tem.indexOf('}}'),dataVar=tem.slice(begin+2,end);if(!data){dataVar=arrowSwap(dataVar);var _jsParse=eval('(function(){'+dataVar+'}())');dataVar='string'==typeof _jsParse||'number'==typeof _jsParse?_jsParse:''}else if(data[dataVar.replace(/ /g,'')])dataVar=dataVar.replace(/ /g,''),dataVar=isFunction(data[dataVar])?data[dataVar]():data[dataVar];else{var jsParse=eval('(function(){'+dataVar+'}())');dataVar='string'==typeof jsParse||'number'==typeof jsParse?jsParse:''}tem=tem.slice(0,begin)+dataVar+tem.slice(end+2,tem.length)}return tem}}]),Augject}();function isFunction(a){return a&&'[object Function]'==={}.toString.call(a)}function arrowSwap(a){return a.replace(/&lt;/g,'<').replace(/&gt;/g,'>')}
